{"ast":null,"code":"var _jsxFileName = \"/Users/zacharyrobin/Desktop/Code/fattmerchant-invoice-challenge/src/components/App.js\";\nimport React, { Component } from \"react\";\nimport axios from 'axios';\nimport './style.css';\nconst token = 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJtZXJjaGFudCI6IjZkMzI5Nzk3LWI2NGQtNDdkMS1hNDU3LTQ3OThlMmIzNjFiNSIsImdvZFVzZXIiOmZhbHNlLCJzdWIiOiI0ODI3ODAzNi1jYzE5LTQ3YWItYTgyOC03MzRiOWUxYWNlMDIiLCJpc3MiOiJodHRwOi8vYXBpZGVtby5mYXR0bGFicy5jb20vdGVhbS9hcGlrZXkiLCJpYXQiOjE1NTU0Mjg2MzMsImV4cCI6NDcwOTAyODYzMywibmJmIjoxNTU1NDI4NjMzLCJqdGkiOiJxZTNueklKdWlDOFhKN1dhIiwiYXNzdW1pbmciOmZhbHNlfQ.TEmlwmgVBLwt5x0FO4c-mbY3JgO_tgxcFRfznlOGSrM'; // const token = process.env.FATTMERCHANT_TOKEN\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      catalogItems: [],\n      memo: '',\n      total: 0,\n      pickedItems: [{\n        itemName: '',\n        itemPrice: 0,\n        quantity: 0\n      }]\n    };\n\n    this.getHeaders = () => {\n      return {\n        Authorization: \"Bearer \".concat(token),\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\"\n      };\n    };\n\n    this.getItems = () => {\n      axios({\n        url: 'https://apidemo.fattlabs.com/item',\n        method: \"GET\",\n        headers: this.getHeaders()\n      }).then(result => {\n        console.log(result.data.data);\n        const res = result.data.data;\n        const list = res.map(item => {\n          return React.createElement(\"ul\", {\n            key: item.id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 44\n            },\n            __self: this\n          }, React.createElement(\"li\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 45\n            },\n            __self: this\n          }, item.item), React.createElement(\"li\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 46\n            },\n            __self: this\n          }, item.price), React.createElement(\"li\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 47\n            },\n            __self: this\n          }, React.createElement(\"button\", {\n            type: \"button\",\n            className: \"btn btn-danger text-light\",\n            onClick: () => this.selectItem(item.item, item.price),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 47\n            },\n            __self: this\n          }, \"Select \", item.item)));\n        });\n        this.setState({\n          catalogItems: list\n        });\n      });\n    };\n\n    this.saveInvoice = () => {\n      axios({\n        url: 'https://apiprod.fattlabs.com/invoice',\n        method: 'POST',\n        headers: this.getHeaders(),\n        data: {\n          memo: this.state.memo,\n          total: this.state.total,\n          item: this.state.pickedItems.itemName,\n          quanitity: this.state.pickedItems.quanitity\n        },\n        transformRequest: [data => {\n          return data;\n        }]\n      }).then(res => {\n        console.log(\"THIS SHIT HERE\", res);\n        alert('Invoice Created').catch(err => console.log(err));\n      });\n    };\n\n    this.selectItem = (item, price) => {\n      console.log(item, price);\n      this.setState({\n        pickedItems: {\n          itemName: this.state.pickedItems.itemName + item,\n          itemPrice: price,\n          quanitity: this.state.quanitity + 1\n        },\n        total: this.state.total + price\n      });\n    };\n\n    this.onInputChange = event => {\n      this.setState({\n        memo: event.target.value\n      });\n    };\n  }\n\n  render() {\n    console.log(this.state.pickedItems, this.state.memo);\n    const catalogItems = this.state.catalogItems;\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"header\", {\n      className: \"App-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"Invoice\")), React.createElement(\"div\", {\n      className: \"App-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, \"Choose Items:\"), React.createElement(\"button\", {\n      onClick: this.getItems,\n      className: \"btn btn-success\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"Search Items\"), React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, catalogItems)), React.createElement(\"div\", {\n      className: \"App-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"Enter Memo:\"), React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.memo,\n      onChange: this.onInputChange,\n      className: \"memo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"App-body jumbotron text-dark mt-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, \"Your Selected Items:\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, \"  \", this.state.pickedItems.itemName)), React.createElement(\"div\", {\n      className: \"card text-dark mb-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \"Total: \", this.state.total)), React.createElement(\"div\", {\n      className: \"App-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-success\",\n      onClick: this.saveInvoice,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, \"Save Invoice\")));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/zacharyrobin/Desktop/Code/fattmerchant-invoice-challenge/src/components/App.js"],"names":["React","Component","axios","token","App","state","catalogItems","memo","total","pickedItems","itemName","itemPrice","quantity","getHeaders","Authorization","Accept","getItems","url","method","headers","then","result","console","log","data","res","list","map","item","id","price","selectItem","setState","saveInvoice","quanitity","transformRequest","alert","catch","err","onInputChange","event","target","value","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from 'axios'\nimport './style.css'\n\n\nconst token = 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJtZXJjaGFudCI6IjZkMzI5Nzk3LWI2NGQtNDdkMS1hNDU3LTQ3OThlMmIzNjFiNSIsImdvZFVzZXIiOmZhbHNlLCJzdWIiOiI0ODI3ODAzNi1jYzE5LTQ3YWItYTgyOC03MzRiOWUxYWNlMDIiLCJpc3MiOiJodHRwOi8vYXBpZGVtby5mYXR0bGFicy5jb20vdGVhbS9hcGlrZXkiLCJpYXQiOjE1NTU0Mjg2MzMsImV4cCI6NDcwOTAyODYzMywibmJmIjoxNTU1NDI4NjMzLCJqdGkiOiJxZTNueklKdWlDOFhKN1dhIiwiYXNzdW1pbmciOmZhbHNlfQ.TEmlwmgVBLwt5x0FO4c-mbY3JgO_tgxcFRfznlOGSrM'\n// const token = process.env.FATTMERCHANT_TOKEN\n\nclass App extends Component {\n\n    state = {\n        catalogItems: [],\n        memo: '',\n        total: 0,\n        pickedItems: [{\n            itemName: '',\n            itemPrice: 0,\n            quantity: 0\n        }]\n    }\n\n    //headers\n    getHeaders = () => {\n        return {\n            Authorization: `Bearer ${token}`,\n            \"Content-Type\": \"application/json\",\n            Accept: \"application/json\"\n        };\n    }\n\n    //make get request to api to obtain item data \n    getItems = () => {\n        axios({\n            url: 'https://apidemo.fattlabs.com/item',\n            method: \"GET\",\n            headers: this.getHeaders()\n\n        }).then(result => {\n            console.log(result.data.data)\n            const res = result.data.data\n\n            const list = res.map((item) => {\n                return (\n                    <ul key={item.id}>\n                        <li>{item.item}</li>\n                        <li>{item.price}</li>\n                        <li><button\n                            type=\"button\"\n                            className='btn btn-danger text-light'\n                            onClick={() => this.selectItem(item.item, item.price)}>\n                            Select {item.item}\n                        </button>\n                        </li>\n                    </ul>\n                )\n            })\n            this.setState({ catalogItems: list })\n\n\n        }\n\n\n        );\n    }\n    //save invoice \n    saveInvoice = () => {\n      \n        axios({\n            url: 'https://apiprod.fattlabs.com/invoice',\n            method: 'POST',\n            headers: this.getHeaders(),\n            data: {\n                memo: this.state.memo,\n                total: this.state.total,\n                item: this.state.pickedItems.itemName,\n                quanitity: this.state.pickedItems.quanitity\n            },\n            transformRequest: [(data)=>{\n                return data\n            }]\n         \n        }).then(res => {\n            console.log(\"THIS SHIT HERE\", res)\n            alert('Invoice Created')\n                .catch(err => console.log(err));\n        });\n    }\n\n    selectItem = (item, price) => {\n        console.log(item, price)\n\n        this.setState({\n            pickedItems: {\n                itemName: this.state.pickedItems.itemName + item,\n                itemPrice: price,\n                quanitity: this.state.quanitity + 1\n            },\n            total: this.state.total + price\n        })\n    }\n\n\n    onInputChange = event => {\n        this.setState({ memo: event.target.value });\n    }\n\n\n\n\n\n    render() {\n        console.log(this.state.pickedItems, this.state.memo)\n        const { catalogItems } = this.state\n        return (\n            <div className=\"App\">\n                <header className=\"App-header\">\n\n                    <h1>Invoice</h1>\n                </header>\n\n                <div className=\"App-body\">\n                    <h2>Choose Items:</h2>\n\n                    <button onClick={this.getItems} className='btn btn-success'>Search Items</button>\n                    <h1>{catalogItems}</h1>\n\n                </div>\n\n                <div className=\"App-body\">\n                    <h2>Enter Memo:</h2>\n                    <input type='text' value={this.state.memo} onChange={this.onInputChange} className='memo'></input>\n\n                </div>\n                <div className=\"App-body jumbotron text-dark mt-5\">\n                    <h2>Your Selected Items:</h2>\n                    <p>  {this.state.pickedItems.itemName}</p>\n                </div>\n\n                <div className='card text-dark mb-5'>\n                    <h2>Total: {this.state.total}</h2>\n                </div>\n\n\n                <div className=\"App-body\">\n                    <button className='btn btn-success' onClick={this.saveInvoice}>Save Invoice</button>\n                    {/*\n          button or some way to save the invoice\n          this will call the api to POST invoice with the correct data\n          https://fattmerchant.docs.apiary.io/#reference/0/invoices/create-an-invoice\n        */}\n                </div>\n\n            </div>\n        );\n    }\n}\n\nexport default App "]},"metadata":{},"sourceType":"module"}